/**
 * Setup the color values from the environment and provide defaults if they are not set.
 */
$colour: get_env_color('dcolor', $azure);
$colourlight: get_env_color('dcolorlight', $azure-light);
$linkcolor: get_env_color('dlinkcolor', $link-light);
$background-color: get_env_color('dbackgroundcolor', #dddddd);

body {
  a {
    @include link-colors($colour, darken($colour, 10%), darken($colour, 20%));
  }
  #main {
    input[type="submit"] {
      background-color: $colour;
      @include background-image(linear-gradient($colour, darken($colour, 7%)));
      box-shadow: lighten($colour, 35%) 0 1px 0 inset;
      border: 1px solid darken($colour, 10%);
      color: $linkcolor;
      &:hover, &:focus {
        background-color: darken($colour, 3%);
        @include background-image(linear-gradient(darken($colour, 3%), darken($colour, 10%)));
      }
      &:active {
        background-color: darken($colour, 7%);
        @include background-image(linear-gradient(darken($colour, 7%), $colour));
      }
    }
    //.region_363_first,
    //.region_363_third,
    //.region_93_second,
    //.region_39_first {
      .block {
        h2.block-title {
          background-color: lighten($background-color, 7%);
          border-top: 1px solid $background-color;
        }
      }
    //}
  }
  .poll .bar .foreground {
    background-color: $colour;
  }
  .block-search {
    background-color: $colourlight;
  }
  #search-form {
    input[type="text"] {
      //border: 5px solid $colourlight;;
    }
  }
  nav {
    &.main-menu {
      > .container > nav.block-menu,
      .block-system-main-menu,
      .block-dominion-menu {
        background-color: $colour;
        border-top: 4px solid $colourlight;
        > ul.menu > li.active-trail,
        > ul.menu > li:hover {
          background-color: darken($colour, 10%);
          a {
            color: $linkcolor !important;
          }
        }
        a {
          color: $linkcolor !important;
          &.active,
          &:hover {
          }
        }
        ul {
          li {
            ul {
              background-color: darken($colour, 10%);
              a {
                &:hover {
                  background-color: $colour;
                }
              }
            }
          }
        }
      }
    }
  }
  .quicktabs-wrapper {
    .quicktabs-tabs {
      li.active a {
        background-color: #fff;
        color: $link-dark;
      }
      a:hover {
        background-color: $colour;
        color: $linkcolor;
      }
    }
  }

  .carousel {
    .progress {
      background-color: $colourlight;
    }
    .pager {
      a {
        text-decoration: none;
        span {
          background-color: #fff;
        }
        &:hover,
        &.selected {
          span {
            background-color: $colour;
            color: $linkcolor !important;
          }
        }
      }
    }
    .btn_next,
    .btn_prev {
      color: #fff;
      &:hover {
        color: $colourlight;
      }
    }
  }
  .block-menu-menu-toptaken > ul {
    background-color: lighten($background-color, 0%);
    & > li {
      &.toptaken-active,
      &:hover {
        background-color: $colour;
        a {
          color: $linkcolor;
        }
      }
      &.toptaken-active > ul a:hover {
        background-color: lighten($background-color, 5%);
      }
    }
  }
  .node {
    .content {
      .inlinetabs,
      .quicktabs-wrapper {
        ul.tabs,
        ul.quicktabs-tabs {
          li {
            a {
              background-color: $background-color;
            }
            &.active,
            &:hover {
              a {
                background-color: $colour;
                color: $linkcolor;
              }
            }
          }
        }
      }
    }
  }
}
